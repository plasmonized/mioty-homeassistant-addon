<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>mioty Application Center für Homeassistant v1.0.4.6.9</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #ff6b35 0%, #f7931e 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #ff6b35 0%, #f7931e 100%);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .header::after {
            content: '';
            position: absolute;
            top: 50%;
            right: 30px;
            transform: translateY(-50%);
            content: '⚡';
            font-size: 28px;
            color: rgba(255,255,255,0.3);
            background-image: url('data:image/png;base64,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');
            opacity: 0.8;
            z-index: 1;
        }
        
        .nav {
            background: #6c757d;
            padding: 0;
            display: flex;
            justify-content: center;
        }
        
        .nav-item {
            color: white;
            text-decoration: none;
            padding: 15px 30px;
            display: block;
            transition: background-color 0.3s ease;
        }
        
        .nav-item:hover, .nav-item.active {
            background: #ff6b35;
            color: white;
            text-decoration: none;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            position: relative;
            z-index: 2;
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
            position: relative;
            z-index: 2;
        }
        
        .content {
            padding: 30px;
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            color: #ff6b35;
            display: block;
        }
        
        .stat-label {
            font-size: 1.1em;
            color: #6c757d;
            margin-top: 5px;
        }

        
        .sentinum-footer {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 30px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
            color: #6c757d;
            font-size: 0.9em;
        }
        
        .sentinum-logo {
            width: 24px;
            height: 16px;
            margin-right: 8px;
            opacity: 0.8;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🌐 mioty Application Center</h1>
            <p>Für Home Assistant Integration</p>
        </div>
        
        <div class="nav">
            <a href="javascript:void(0)" onclick="navigateTo('/')" class="nav-item active">🏠 Dashboard</a>
            <a href="javascript:void(0)" onclick="navigateTo('/settings')" class="nav-item">⚙️ Einstellungen</a>
            <a href="javascript:void(0)" onclick="navigateTo('/decoders')" class="nav-item">🔧 Decoder</a>
        </div>
        
        <div class="content">
            
            <div class="stats">
                <div class="stat-card">
                    <span class="stat-number" id="sensor-count">0</span>
                    <div class="stat-label">mioty Sensoren</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="basestation-count">0</span>
                    <div class="stat-label">Base Stations</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="decoder-count">0</span>
                    <div class="stat-label">Aktive Decoder</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="mqtt-status">⚠️</span>
                    <div class="stat-label">MQTT Status</div>
                </div>
            </div>
            
            <div id="sensors-section">
                <h2>📡 Sensor-Daten</h2>
                
                <!-- Sensor manuell hinzufügen UI -->
                <div style="margin-bottom: 15px; padding: 10px; background: #e7f3ff; border-radius: 4px; border-left: 3px solid #007bff;">
                    <small><strong>💡 Sensor manuell hinzufügen:</strong><br>
                    Für Demo oder wenn Auto-Discovery nicht funktioniert<br>
                    <button onclick="addManualSensorData()" style="border: none; background: #007bff; color: white; padding: 5px 10px; border-radius: 3px; font-size: 12px; cursor: pointer; margin-top: 5px;">Neuen Sensor hinzufügen</button>
                    </small>
                </div>
                
                <div id="sensors-list"></div>
            </div>
            
            <div id="basestations-section" style="margin-top: 40px;">
                <h2>🏢 Base Stations</h2>
                <div id="basestations-list"></div>
            </div>
            
            <div class="sentinum-footer">
                <img src="data:image/png;base64,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" alt="Sentinum" class="sentinum-logo">
                <!-- Logo entfernt -->
                <small style="opacity: 0.6; font-size: 0.8em;">powered by Sentinum</small>
            </div>
        </div>
    </div>

    <script>
        // Set base URL for API calls
        const BASE_URL = '{{ ingress_path }}' || '';
        
        console.log('Ingress path from server:', '{{ ingress_path }}');
        console.log('BASE_URL resolved:', BASE_URL || window.location.origin);
        console.log('Current pathname:', window.location.pathname);
        console.log('Is embedded (iframe):', window.parent !== window);
        
        // Daten laden
        async function loadSensors() {
            try {
                const response = await fetch(`${BASE_URL}/api/sensors`);
                const sensors = await response.json();
                
                document.getElementById('sensor-count').textContent = sensors.length;
                
                const sensorsList = document.getElementById('sensors-list');
                sensorsList.innerHTML = sensors.map(sensor => `
                    <div style="background: #f8f9fa; padding: 15px; margin: 10px 0; border-radius: 8px; border-left: 4px solid #ff6b35;">
                        <strong>EUI:</strong> ${sensor.eui}<br>
                        <strong>Typ:</strong> ${sensor.sensor_type}<br>
                        <strong>Letztes Update:</strong> ${sensor.last_update}<br>
                        ${sensor.needs_metadata ? `
                            <div style="margin-top: 10px; padding: 10px; background: #fff3cd; border-radius: 4px; border-left: 3px solid #ffc107;">
                                <small><strong>⚠️ Auto-Discovery unvollständig:</strong><br>
                                Manufacturer/Model fehlen. <a href="/decoders" style="color: #0066cc;">Decoder hinzufügen</a> oder 
                                <button onclick="addManualSensorData('${sensor.eui}')" style="border: none; background: #007bff; color: white; padding: 2px 6px; border-radius: 3px; font-size: 11px; cursor: pointer;">Manuell ergänzen</button>
                                </small>
                            </div>
                        ` : ''}
                    </div>
                `).join('');
            } catch (error) {
                console.error('Fehler beim Laden der Sensoren:', error);
            }
        }
        
        function addManualSensorData(eui) {
            // Für bestehende Sensoren
            if (eui) {
                const manufacturer = prompt('Hersteller eingeben (z.B. Sentinum, Loriot, etc.):');
                const model = prompt('Gerätemodell eingeben (z.B. Temperature Sensor v2.1):');
                
                if (manufacturer && model) {
                    fetch(`${BASE_URL}/api/sensors/${eui}/metadata`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ manufacturer, model })
                    }).then(response => {
                        if (response.ok) {
                            alert('✅ Metadaten gespeichert! Auto-Discovery wird beim nächsten Sensor-Update versucht.');
                            loadSensors(); // Refresh
                        } else {
                            alert('❌ Fehler beim Speichern der Metadaten');
                        }
                    });
                }
            } else {
                // Demo-Sensor erstellen
                const sensorEui = prompt('Sensor EUI eingeben (z.B. 1234567890ABCDEF):');
                if (!sensorEui) return;
                
                const manufacturer = prompt('Hersteller eingeben (z.B. Sentinum, Loriot, etc.):');
                const model = prompt('Gerätemodell eingeben (z.B. Temperature Sensor v2.1):');
                
                if (manufacturer && model) {
                    // Demo-Sensor simulieren
                    fetch(`${BASE_URL}/api/sensors/${sensorEui}/metadata`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ manufacturer, model })
                    }).then(response => {
                        if (response.ok) {
                            alert('✅ Demo-Sensor erstellt! Metadaten gespeichert.');
                            // Demo-Sensor-Daten simulieren
                            simulateDemoSensor(sensorEui);
                        } else {
                            alert('❌ Fehler beim Erstellen des Demo-Sensors');
                        }
                    });
                }
            }
        }
        
        function simulateDemoSensor(eui) {
            // Erstelle einen Demo-Sensor in der UI
            const now = new Date().toLocaleString();
            const demoSensor = {
                eui: eui,
                sensor_type: 'Demo Sensor',
                last_update: now,
                needs_metadata: false // Da wir gerade Metadaten gesetzt haben
            };
            
            // Füge den Demo-Sensor zur Anzeige hinzu
            const sensorsList = document.getElementById('sensors-list');
            const sensorHtml = `
                <div style="background: #f8f9fa; padding: 15px; margin: 10px 0; border-radius: 8px; border-left: 4px solid #28a745;">
                    <strong>EUI:</strong> ${demoSensor.eui}<br>
                    <strong>Typ:</strong> ${demoSensor.sensor_type}<br>
                    <strong>Letztes Update:</strong> ${demoSensor.last_update}<br>
                    <div style="margin-top: 10px; padding: 8px; background: #d4edda; border-radius: 4px; border-left: 3px solid #28a745;">
                        <small><strong>✅ Demo-Sensor:</strong> Metadaten erfolgreich gesetzt</small>
                    </div>
                </div>
            `;
            sensorsList.insertAdjacentHTML('afterbegin', sensorHtml);
            
            // Sensor-Count aktualisieren
            const currentCount = parseInt(document.getElementById('sensor-count').textContent);
            document.getElementById('sensor-count').textContent = currentCount + 1;
        }
        
        function addManualBasestationData(eui) {
            const manufacturer = prompt('Base Station Hersteller eingeben (z.B. Swissphone, Kerlink, etc.):');
            const model = prompt('Base Station Modell eingeben (z.B. MBS20, Wirnet Station):');
            
            if (manufacturer && model) {
                fetch(`${BASE_URL}/api/basestations/${eui}/metadata`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ manufacturer, model })
                }).then(response => {
                    if (response.ok) {
                        alert('✅ Base Station Metadaten gespeichert! Auto-Discovery wird beim nächsten Update versucht.');
                        loadBaseStations(); // Refresh
                    } else {
                        alert('❌ Fehler beim Speichern der Base Station Metadaten');
                    }
                });
            }
        }
        
        async function loadBaseStations() {
            try {
                const response = await fetch(`${BASE_URL}/api/basestations`);
                const basestations = await response.json();
                
                document.getElementById('basestation-count').textContent = basestations.length;
                
                const basestationsList = document.getElementById('basestations-list');
                basestationsList.innerHTML = basestations.map(bs => `
                    <div style="background: #f8f9fa; padding: 15px; margin: 10px 0; border-radius: 8px; border-left: 4px solid #28a745;">
                        <strong>EUI:</strong> ${bs.eui}<br>
                        <strong>Status:</strong> ${bs.status}<br>
                        <strong>Letztes Update:</strong> ${bs.last_update}<br>
                        ${bs.needs_metadata ? `
                            <div style="margin-top: 10px; padding: 10px; background: #fff3cd; border-radius: 4px; border-left: 3px solid #ffc107;">
                                <small><strong>⚠️ Auto-Discovery unvollständig:</strong><br>
                                Manufacturer/Model fehlen für Base Station. 
                                <button onclick="addManualBasestationData('${bs.eui}')" style="border: none; background: #007bff; color: white; padding: 2px 6px; border-radius: 3px; font-size: 11px; cursor: pointer;">Manuell ergänzen</button>
                                </small>
                            </div>
                        ` : ''}
                    </div>
                `).join('');
            } catch (error) {
                console.error('Fehler beim Laden der Base Stations:', error);
            }
        }
        
        // HOME ASSISTANT INGRESS CACHE-BUSTING LÖSUNG
        function addCacheBuster(url) {
            const separator = url.includes('?') ? '&' : '?';
            return url + separator + 'cb=' + Date.now() + '&t=' + Math.random();
        }
        
        // Erkenne Home Assistant Ingress Environment
        const isHomeAssistantIngress = window.location.pathname.includes('/api/hassio_ingress/') || 
                                      document.referrer.includes('homeassistant') || 
                                      window.parent !== window;
        
        // Global Navigation Function für alle Umgebungen
        window.navigateTo = function(path) {
            console.log('🔗 Navigation zu:', path);
            const url = `${BASE_URL}${path}?t=${Date.now()}&cb=${Math.random()}`;
            console.log('🚀 Navigation URL:', url);
            window.location.href = url;
        };
        
        if (isHomeAssistantIngress) {
            console.log('🏠 HOME ASSISTANT INGRESS ERKANNT - Aggressive Cache-Busting aktiviert!');
            
            // Überschreibe fetch mit automatischem Cache-Busting
            const originalFetch = window.fetch;
            window.fetch = function(url, options = {}) {
                if (typeof url === 'string' && (url.startsWith('/api/') || url.startsWith('${BASE_URL}/api/'))) {
                    url = addCacheBuster(url);
                    console.log('🚀 HA Cache-Buster URL:', url);
                }
                // Aggressive no-cache headers für Home Assistant
                options.cache = 'no-store';
                options.headers = {
                    ...options.headers,
                    'Cache-Control': 'no-cache, no-store, must-revalidate',
                    'Pragma': 'no-cache',
                    'Expires': '0',
                    'X-Requested-With': 'XMLHttpRequest'
                };
                return originalFetch(url, options);
            };
        }
        
        // Auto-refresh mit verbessertem Error-Handling
        function startAutoRefresh() {
            loadSensors();
            loadBaseStations();
            
            setInterval(() => {
                loadSensors();
                loadBaseStations();
            }, 30000);
        }
        
        document.addEventListener('DOMContentLoaded', startAutoRefresh);
    </script>
</body>
</html>